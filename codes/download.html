<!DOCTYPE html>
<html>
<head>
  <title>My Firebase Storage</title>
</head>
<body>
  <h1>My Firebase Storage</h1>
  <ul id="fileList"></ul>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-storage.js"></script>

  <!-- Firebase configuration -->
  <script>
    const firebaseConfig = {
    //   paste your credentials here
      
    };
    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();
    const storageRef = storage.ref();
  </script>

  <!-- JavaScript code to download files and display their names -->
  <script>
    storageRef.on('child_added', function(snapshot) {
      snapshot.ref.getDownloadURL().then(function(downloadURL) {
        const xhr = new XMLHttpRequest();
        xhr.responseType = 'blob';
        xhr.onload = function(event) {
          const blob = xhr.response;
          const fileName = snapshot.ref.name;
          const a = document.createElement('a');
          document.body.appendChild(a);
          a.style = 'display: none';
          const url = window.URL.createObjectURL(blob);
          a.href = url;
          a.download = fileName;
          a.click();
          window.URL.revokeObjectURL(url);

          // Display the file name in the list
          const listItem = document.createElement('li');
          listItem.textContent = fileName;
          document.getElementById('fileList').appendChild(listItem);
        };
        xhr.open('GET', downloadURL);
        xhr.send();
      });
    });
  </script>

  <!-- AJAX code to display the downloaded file names -->
  <script>
    const xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById('fileList').innerHTML = this.responseText;
      }
    };
    xhttp.open('GET', 'fileList.php', true);
    xhttp.send();
  </script>
</body>
</html>
